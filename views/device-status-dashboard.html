<!doctype html>
<html>
    <head>
        <title><%= appName %></title>
        <link rel="stylesheet" href="./css/bootstrap.min.css">
    </head>

    <body>
        <h1><%= appName %></h1>
        <!-- R4A: Display a link to the home page or a navigation bar that contains links to other pages.-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/">MyHomeApp</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
            aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/"> HOME <span class="sr-only"></span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about">ABOUT</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/add-device">ADD DEVICE</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/device-status-dashboard">DEVICE STATUS</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/select-device-to-update">UPDATE DEVICE</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/delete-device">DELETE DEVICE</a>
                </li>
            </ul>
        </div>
    </nav>
    <br />
        <h2>Device Status</h2>

        <!--R4A  Display a list of already added devices and then let the user choose a device from the list-->
        <table border="1px solid;">
            <tr style="background-color: lightgrey;">
                <th>Device ID</th>
                <th>Device Name</th>
                <th>Device Type</th>
                <th>Temperature</th>
                <th>Volume</th>
                <th>Open/Closed</th>
                <th>On/Off</th>
            </tr>
            <% var count = 0%>
            <% devices.forEach(function(device){ %>
                <% count++ %>
                <tr>
                <!--Id Column-->
                <td><b><%= device.id %></b></td>
                <!--DeviceName Column-->
                <td><b><%= device.deviceName %></b></td>
                <!--DeviceType Column-->
                <td><b><%= device.deviceType %></b></td>
                <!--Temperature Column-->
                <% if(device.temperature !=null){ %>
                <td><b><%= device.temperature %></b></td>
                <% } else {%>
                <td>N/A</td>
                <% }%>
                <!--Volume Column-->
                <% if(device.volume !=null){ %>
                <td><b><%= device.volume %></b></td>
                <% } else {%>
                <td>N/A</td>
                <% }%>
                <!--Open/Closed Column-->
                <% if(device.isOpen==0){ %>
                <td><b>Closed</b></td>
                <% } else if(device.isOpen==1){ %>
                <td><b>Open</b></td>
                <% } else { %>
                <td>N/A</td>
                <% } %>
                <!--On/Off Column-->
                <% if(device.isOn==0){ %>
                <td><b>Off</b></td>
                <% } else if(device.isOn==1){ %>
                <td><b>On</b></td>
                <% } else { %>
                <td>N/A</td>
                <% }%>
            </tr>
            <%}) %>
            <% if(count==0) { %>
            <!--R4B Display a message to the user if not found.-->
            <tr>
                <td colspan="7">There's no device registered yet. Add your device <a href="/add-device">here</a></td>
            </tr>
            <% } %>
        </table>
    </body>
</html>
